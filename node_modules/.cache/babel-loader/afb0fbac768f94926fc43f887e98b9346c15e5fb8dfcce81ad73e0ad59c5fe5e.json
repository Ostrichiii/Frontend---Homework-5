{"ast":null,"code":"import React,{useContext,useState}from'react';import{useNavigate}from'react-router-dom';import{UserContext}from'./UserContext';import data from'./data.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MainPage=()=>{const{currentUser,setCurrentUser}=useContext(UserContext);const navigate=useNavigate();const users=[{id:1,name:'Owner',role:'owner'},{id:2,name:'Guest',role:'guest'}];const[shoppingLists,setShoppingLists]=useState(data.shoppingLists||[]);const[filter,setFilter]=useState('active');const[newListName,setNewListName]=useState('');const addNewList=()=>{if(newListName.trim()!==''){const newList={id:shoppingLists.length+1,name:newListName,archived:false,items:[],members:[]};setShoppingLists([...shoppingLists,newList]);setNewListName('');}};const toggleArchive=id=>{setShoppingLists(prevLists=>prevLists.map(list=>list.id===id?{...list,archived:!list.archived}:list));};const deleteList=id=>{setShoppingLists(prevLists=>prevLists.filter(list=>list.id!==id));};const filteredLists=shoppingLists.filter(list=>filter==='active'?!list.archived:list.archived);const goToShoppingListDetail=list=>{navigate(`/shopping-list/${list.id}`,{state:{list}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl w-full mx-auto bg-white p-8 rounded-lg shadow-lg relative\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"My Shopping App\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-4\",children:/*#__PURE__*/_jsx(\"select\",{value:currentUser.id,onChange:e=>setCurrentUser(users.find(user=>user.id===parseInt(e.target.value))),className:\"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:users.map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.name,\" (\",user.role,\")\"]},user.id))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-200 rounded-full p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('active'),className:`px-4 py-2 rounded-full focus:outline-none ${filter==='active'?'bg-blue-500 text-white':'bg-transparent text-gray-700 hover:bg-gray-300'} transition`,children:\"Active\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('archive'),className:`px-4 py-2 rounded-full focus:outline-none ${filter==='archive'?'bg-blue-500 text-white':'bg-transparent text-gray-700 hover:bg-gray-300'} transition`,children:\"Archived\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newListName,onChange:e=>setNewListName(e.target.value),placeholder:\"Enter new shopping list name\",className:\"p-3 border border-gray-300 rounded-lg shadow-sm w-full mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addNewList,className:\"w-full bg-green-500 text-white px-5 py-2 rounded-lg shadow hover:bg-green-600 transition\",children:\"Add Shopping List\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:filteredLists.map(list=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center py-3 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>goToShoppingListDetail(list),className:\"text-lg text-blue-500 hover:underline\",children:list.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleArchive(list.id),className:\"text-blue-500 hover:underline\",children:list.archived?'Unarchive':'Archive'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteList(list.id),className:\"text-red-500 hover:underline\",children:\"Delete\"})]})]},list.id))})]});};export default MainPage;","map":{"version":3,"names":["React","useContext","useState","useNavigate","UserContext","data","jsx","_jsx","jsxs","_jsxs","MainPage","currentUser","setCurrentUser","navigate","users","id","name","role","shoppingLists","setShoppingLists","filter","setFilter","newListName","setNewListName","addNewList","trim","newList","length","archived","items","members","toggleArchive","prevLists","map","list","deleteList","filteredLists","goToShoppingListDetail","state","className","children","value","onChange","e","find","user","parseInt","target","onClick","type","placeholder"],"sources":["/Users/zdenek/Desktop/STUDY/Unicorn/5 semester/frontendHomework2/shopping_list/src/components/MainPage.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { UserContext } from './UserContext';\nimport data from './data.json';\n\nconst MainPage = () => {\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  const users = [\n    { id: 1, name: 'Owner', role: 'owner' },\n    { id: 2, name: 'Guest', role: 'guest' },\n  ];\n  const [shoppingLists, setShoppingLists] = useState(data.shoppingLists || []);\n  const [filter, setFilter] = useState('active');\n  const [newListName, setNewListName] = useState('');\n\n  const addNewList = () => {\n    if (newListName.trim() !== '') {\n      const newList = {\n        id: shoppingLists.length + 1,\n        name: newListName,\n        archived: false,\n        items: [],\n        members: [],\n      };\n      setShoppingLists([...shoppingLists, newList]);\n      setNewListName('');\n    }\n  };\n\n  const toggleArchive = (id) => {\n    setShoppingLists((prevLists) =>\n      prevLists.map((list) =>\n        list.id === id ? { ...list, archived: !list.archived } : list\n      )\n    );\n  };\n\n  const deleteList = (id) => {\n    setShoppingLists((prevLists) => prevLists.filter((list) => list.id !== id));\n  };\n\n  const filteredLists = shoppingLists.filter(\n    (list) => (filter === 'active' ? !list.archived : list.archived)\n  );\n\n  const goToShoppingListDetail = (list) => {\n    navigate(`/shopping-list/${list.id}`, { state: { list } });\n  };\n\n  return (\n    <div className=\"max-w-4xl w-full mx-auto bg-white p-8 rounded-lg shadow-lg relative\">\n      <header className=\"flex justify-between items-center mb-6\">\n        <div className=\"flex items-center\">\n          <h1 className=\"text-2xl font-bold text-gray-800\">My Shopping App</h1>\n        </div>\n        <div className=\"absolute top-2 right-4\">\n          <select\n            value={currentUser.id}\n            onChange={(e) =>\n              setCurrentUser(users.find((user) => user.id === parseInt(e.target.value)))\n            }\n            className=\"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            {users.map((user) => (\n              <option key={user.id} value={user.id}>\n                {user.name} ({user.role})\n              </option>\n            ))}\n          </select>\n        </div>\n      </header>\n      <div className=\"flex justify-between items-center mb-6\">\n        <div className=\"flex bg-gray-200 rounded-full p-1\">\n          <button\n            onClick={() => setFilter('active')}\n            className={`px-4 py-2 rounded-full focus:outline-none ${\n              filter === 'active'\n                ? 'bg-blue-500 text-white'\n                : 'bg-transparent text-gray-700 hover:bg-gray-300'\n            } transition`}\n          >\n            Active\n          </button>\n          <button\n            onClick={() => setFilter('archive')}\n            className={`px-4 py-2 rounded-full focus:outline-none ${\n              filter === 'archive'\n                ? 'bg-blue-500 text-white'\n                : 'bg-transparent text-gray-700 hover:bg-gray-300'\n            } transition`}\n          >\n            Archived\n          </button>\n        </div>\n      </div>\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          value={newListName}\n          onChange={(e) => setNewListName(e.target.value)}\n          placeholder=\"Enter new shopping list name\"\n          className=\"p-3 border border-gray-300 rounded-lg shadow-sm w-full mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <button\n          onClick={addNewList}\n          className=\"w-full bg-green-500 text-white px-5 py-2 rounded-lg shadow hover:bg-green-600 transition\"\n        >\n          Add Shopping List\n        </button>\n      </div>\n      <ul>\n        {filteredLists.map((list) => (\n          <li\n            key={list.id}\n            className=\"flex justify-between items-center py-3 border-b border-gray-200\"\n          >\n            <button\n              onClick={() => goToShoppingListDetail(list)}\n              className=\"text-lg text-blue-500 hover:underline\"\n            >\n              {list.name}\n            </button>\n            <div className=\"flex gap-4\">\n              <button\n                onClick={() => toggleArchive(list.id)}\n                className=\"text-blue-500 hover:underline\"\n              >\n                {list.archived ? 'Unarchive' : 'Archive'}\n              </button>\n              <button\n                onClick={() => deleteList(list.id)}\n                className=\"text-red-500 hover:underline\"\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MainPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}